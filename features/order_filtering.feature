# language: ru

Функция: Фильтрация и отображение заказов
  Как администратор системы
  Я хочу фильтровать и просматривать заказы
  Чтобы находить нужную информацию о заказах

  Предыстория:
    Дано я авторизован как супер-администратор
    И в системе существуют следующие заказы:
      | дата       | время  | услуга  | клиент              | сумма  | оплачено |
      | 2024-01-15 | 10:00  | Боулинг | Иванов И.И.         | 10000  | да       |
      | 2024-01-15 | 14:00  | Бильярд | Петров П.П.         | 8000   | нет      |
      | 2024-01-16 | 11:00  | Боулинг | Сидоров С.С.        | 15000  | да       |
      | 2024-01-16 | 16:00  | Караоке | Иванов И.И.         | 12000  | нет      |
      | 2024-01-17 | 12:00  | Боулинг | Петров П.П.         | 10000  | да       |

  Сценарий: Просмотр списка всех заказов за текущую дату
    Дано сегодня "2024-01-15"
    Когда я перехожу на страницу списка заказов
    Тогда я вижу 2 заказа в списке
    И я вижу заказ клиента "Иванов И.И." на 10000 рублей
    И я вижу заказ клиента "Петров П.П." на 8000 рублей

  Сценарий: Фильтрация заказов по дате
    Когда я перехожу на страницу списка заказов
    И выбираю дату "2024-01-16"
    Тогда я вижу 2 заказа в списке
    И я вижу заказ клиента "Сидоров С.С."
    И я вижу заказ клиента "Иванов И.И." на 12000 рублей

  Сценарий: Отображение колонок в таблице заказов
    Когда я перехожу на страницу списка заказов
    Тогда я вижу колонку "Оплачено"
    И я вижу колонку "Время"
    И я вижу колонку "Услуга"
    И я вижу колонку "Клиент"
    И я вижу колонку "Время"
    И я вижу колонку "Люди"
    И я вижу колонку "Сумма"
    И я не вижу колонку "Дата" по умолчанию

  Сценарий: Сортировка заказов по времени по умолчанию
    Дано сегодня "2024-01-15"
    Когда я перехожу на страницу списка заказов
    Тогда заказы отсортированы по времени в порядке убывания
    И первым в списке показан заказ на 14:00
    И вторым в списке показан заказ на 10:00

  Сценарий: Сортировка заказов по клиенту
    Дано сегодня "2024-01-15"
    Когда я перехожу на страницу списка заказов
    И нажимаю на заголовок колонки "Клиент"
    Тогда заказы сортируются по имени клиента в алфавитном порядке

  Сценарий: Сортировка заказов по сумме
    Дано сегодня "2024-01-15"
    Когда я перехожу на страницу списка заказов
    И нажимаю на заголовок колонки "Сумма"
    Тогда заказы сортируются по сумме в порядке возрастания

  Сценарий: Поиск заказа по имени клиента
    Когда я перехожу на страницу списка заказов
    И ввожу "Иванов" в поле поиска
    Тогда я вижу заказы клиента "Иванов И.И."
    И я не вижу заказы других клиентов

  Сценарий: Поиск заказа по названию услуги
    Когда я перехожу на страницу списка заказов
    И ввожу "Боулинг" в поле поиска
    Тогда я вижу только заказы с услугой "Боулинг"
    И я не вижу заказы с другими услугами

  Сценарий: Поиск заказа по времени
    Когда я перехожу на страницу списка заказов
    И ввожу "14:00" в поле поиска
    Тогда я вижу заказ на время 14:00
    И я не вижу заказы с другим временем

  Сценарий: Отображение ограниченного текста в колонках
    Дано в системе существует заказ:
      | услуга  | Боулинг с анимацией и угощением для детей |
      | клиент  | Иванов Иван Иванович Петрович             |
    Когда я перехожу на страницу списка заказов
    Тогда название услуги обрезается до 22 символов
    И имя клиента обрезается до 27 символов

  Сценарий: Переключение статуса оплаты из списка
    Дано существует неоплаченный заказ клиента "Петров П.П."
    Когда я перехожу на страницу списка заказов
    И включаю переключатель "Оплачено" для этого заказа
    Тогда я перехожу на страницу редактирования заказа
    И могу внести данные об оплате

  Сценарий: Отключение пагинации
    Дано в системе существует 100 заказов за сегодня
    Когда я перехожу на страницу списка заказов
    Тогда все 100 заказов отображаются на одной странице
    И пагинация отключена

  Сценарий: Редактирование заказа из списка
    Когда я перехожу на страницу списка заказов
    И нажимаю кнопку "Изменить" у заказа клиента "Иванов И.И."
    Тогда я перехожу на страницу редактирования этого заказа

  Сценарий: Удаление заказа из списка
    Дано существует заказ клиента "Петров П.П."
    Когда я перехожу на страницу списка заказов
    И нажимаю кнопку "Удалить" у заказа клиента "Петров П.П."
    И подтверждаю удаление
    Тогда заказ удален из системы
    И я не вижу этот заказ в списке

  Сценарий: Массовое удаление заказов
    Дано сегодня "2024-01-15"
    Когда я перехожу на страницу списка заказов
    И выбираю несколько заказов флажками
    И нажимаю "Удалить выбранные"
    И подтверждаю массовое удаление
    Тогда все выбранные заказы удалены из системы

  Сценарий: Отображение статуса оплаты
    Когда я перехожу на страницу списка заказов
    Тогда оплаченные заказы помечены как "Оплачено"
    И неоплаченные заказы не помечены

  Сценарий: Полосатое отображение строк таблицы
    Когда я перехожу на страницу списка заказов
    Тогда строки таблицы отображаются с чередующимся фоном
    И таблица имеет полосатый стиль

  Сценарий: Отображение времени с учетом часового пояса
    Дано в системе существует заказ на время 14:00 UTC
    Когда я перехожу на страницу списка заказов
    Тогда время отображается как 19:00 в часовом поясе GMT+5

  Сценарий: Пустой список заказов
    Дано сегодня "2024-01-20"
    И в системе нет заказов на эту дату
    Когда я перехожу на страницу списка заказов
    Тогда я вижу сообщение "Нет заказов на выбранную дату"
    И таблица заказов пуста
